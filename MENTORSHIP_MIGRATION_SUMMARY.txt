MENTORSHIP COLLECTION MIGRATION SUMMARY
========================================

ISSUE IDENTIFIED:
The mentorship system was using a top-level 'organizations' collection that violated the TM App Golden Rules, which mandate all data remain under the 'users' collection structure.

RESOLUTION:
Migrated all mentorship data paths from 'organizations/{orgId}/*' to 'users/{ownerId}/mentorship/*'

NEW STRUCTURE:
==============

users/{ownerId}/mentorship/
  ├── mentorshipPolicy/policies/{policyId}
  ├── mentorshipOverrides/overrides/{memberId}
  ├── memberMetrics/metrics/{memberId}
  └── mentorshipPairs/pairs/{pairId}
        └── notes/{noteId}

FILES MODIFIED:
===============

1. services/mentorshipService.ts
   - All collection references updated to use users/{ownerId}/mentorship path
   - Maintains same API interface, no breaking changes to function signatures

2. components/VPEMentorCenter.tsx
   - Updated all Firestore document/collection references (16 instances)
   - Changed paths for: policy, pairs, metrics, overrides

3. components/MentorshipPage.tsx
   - Updated all Firestore document/collection references (6 instances)
   - Changed paths for: policy, metrics, overrides

4. firestore.rules
   - Removed organizations/{orgId} collection rules
   - Added users/{userId}/mentorship/{category} rules with subcollections:
     * policies/{policyId}
     * overrides/{memberId}
     * metrics/{memberId}
     * pairs/{pairId}/notes/{noteId}
   - Maintains same security model

MIGRATION NOTES:
================

- Existing data in 'organizations' collection NOT migrated (as instructed)
- All new writes will go to users/{ownerId}/mentorship structure
- No code breaking changes - only path updates
- Security rules maintain same permissions model
- All linter checks pass

MEMORY CREATED:
===============

Created persistent memory to always ask user approval before creating new top-level Firestore collections in the future.

COMPLIANCE:
===========

✓ Follows TM App Golden Rules (Section 2: Firestore-first persistence)
✓ All data under users collection structure
✓ No new database or top-level collections
✓ Schema change properly documented
✓ Security rules updated accordingly

COMMIT:
=======

Committed as: "Fix: Migrate mentorship system from organizations collection to users collection structure"
Commit hash: 31e5627
